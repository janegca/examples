<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/pos-absolute.css" />
    <title>Position Example: absolute</title>
  </head>
  <body>
    <div class="container">
      <div class="intro">
        <h1>Position Example: absolute</h1>
        <p>
          <a
            href="https://github.com/janegca/examples/tree/main/css/positioning"
            target="_blank"
            >See the code</a
          >
        </p>
        <p>
          An element with a property of <code>position: absolute</code> creates
          a positioning context relative to another element on the page i.e. a
          positioned ancestor or, if it has no positioned ancestors, the root
          element. It also creates a containing block context for any of its
          descendents.
        </p>
        <p>
          The element's offset properties will be relative to the position of
          the other element i.e. to the top,left of the enclosing parent or the
          document root.
        </p>
        <p>
          When an absolutely positioned element is moved it is taken out of the
          normal flow, its original space is <strong>not</strong> maintained,
          and it will overlap any element found in its new position.
        </p>
      </div>
      <div class="boxes">
        <div class="wrap">
          <div class="box"></div>
        </div>

        <div class="box accent">
          <span class="dot"></span>
        </div>

        <div class="wrap">
          <div class="box"></div>
        </div>
      </div>
      <p>
        The highlighted box in the above example is moved 25 units from the top
        and 57 units to the left of the page's top, left corner. The space it
        would normally have occupied (between the two blue boxes) has collapsed.
        The red dot it contains is also absolutely positioned, but, as its
        container is a positioned element, it stays confined within in it.
      </p>
      <p>
        The highlighted box, and the absolutely positioned red dot within it,
        will move independently of the blue boxes as the page is resized.
      </p>

      <h2>Examples from Eric Meyer's <em>CSS Positioning</em></h2>
      <div class="meyer">
        <p>
          This paragraph does <em>not</em> establish a containing block for any
          of its descendant elements that are absolutely positioned. Therefore,
          the absolutely positioned <b>boldface</b> element it contains
          (boldface) will be positioned with respect to the initial containing
          block.
        </p>
        <p class="contain">
          Thanks to <code>position: relative</code>, this paragraph establishes
          a containing block for any of its descendant elements that are
          absolutely positioned. Since there is such an element--
          <em
            >that is to say,
            <b>a boldfaced element that is absolutely positioned,</b> placed
            with respect to its containing block (the paragraph)</em
          >, it will appear within the element box generated by the paragraph.
        </p>
      </div>

      <h2>Nesting absolutely positioned elements</h2>
      An absolutely positioned element creates a containing block context for
      any of its descendents.

      <div class="meyer-container">
        <div class="meyer-div">
          <div class="a">
            absolutely positioned element A <br />
            <code>top: 0; right: 0; </code>
            <code>width: 15em; height: 100%;</code>
            <div class="b">
              absolutely positioned element B
              <code>bottom: 0; left: 0; width: 10em; height: 50%;</code>
            </div>
          </div>
          containing block <br />(relatively positioned)
        </div>
      </div>

      <h3>Using <code>auto</code> values</h3>
      <p>
        <code>auto</code> values are computed by the browser. It will use
        specified property values when they are given and the formula to assign
        unspecified values. If all values are specified, they are used and no
        'computed' values are necessary.
      </p>
      <p>
        In this example, the unspecified property is used to make up the height
        difference. In element A, neither top nor bottom is specified so the
        element is 'shrink-wrapped'. For element B, bottom is left undefined, in
        element C, top is undefined. Extra space is alloted to the undefined
        property.
      </p>
      <div
        style="position: relative; width: 30em; height: 10em; border: 1px solid"
      >
        <div
          style="
            position: absolute;
            left: 0;
            width: 30%;
            background: red;
            color: white;
            top: 0;
          "
        >
          element A
        </div>
        <div
          style="
            position: absolute;
            left: 35%;
            width: 30%;
            background: blue;
            color: white;
            top: 0;
            height: 50%;
          "
        >
          element B
        </div>
        <div
          style="
            position: absolute;
            left: 70%;
            width: 30%;
            background: green;
            color: white;
            height: 50%;
            bottom: 0;
          "
        >
          element C
        </div>
      </div>

      <h3>Centering an element vertically</h3>
      <p>
        We can take advantage of the behaviour to center elements. Here, Element
        D will be centered vertically IF there is no other constraint on the
        element's height.
        <code>top: 0; left: 0; bottom: 0; height: 5em; margin: auto 0;</code>
      </p>
      <div style="display: flex; justify-content: center; align-items: center">
        <div
          style="
            position: relative;
            width: 10em;
            height: 10em;
            border: 1px solid;
          "
        >
          <div
            style="
              display: inline-block;
              position: absolute;
              left: 0;
              width: 100%;
              background: steelblue;
              color: white;
              top: 0;
              height: 5em;
              bottom: 0;
              margin: auto 0;
            "
          >
            element D
          </div>
        </div>
        <p style="margin: 0 1vw">
          but here all margins are set to 0 <br />
          no internal calculation is needed <br />
          and no centering occurs
        </p>
        <div
          style="
            position: relative;
            width: 10em;
            height: 10em;
            border: 1px solid;
          "
        >
          <div
            style="
              display: inline-block;
              position: absolute;
              left: 0;
              width: 100%;
              background: red;
              color: white;
              top: 0;
              height: 5em;
              bottom: 0;
              margin: 0;
            "
          >
            element D
          </div>
        </div>
      </div>
      <p>
        Note that <code>top</code> is not ignored if the element is
        over-constrained, only bottom.
      </p>
    </div>
  </body>
</html>
